{% extends "base.html" %}

{% block css_include %}
<link href="/static/assets/plugins/jquery-datatable/css/jquery.dataTables.css" rel="stylesheet" type="text/css"/>
<link href="/static/assets/plugins/datatables-responsive/css/datatables.responsive.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="/static/assets/css/knowledge.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="/static/assets/plugins/highlight/styles/atelier-forest.light.css" rel="stylesheet" type="text/css" media="screen"/>
<div id="taskid" style="display:none">{{taskid}}</div>
{% endblock %}


{% block pagecontent %}
<div id="portlet-config" class="modal hide">
  <div class="modal-header">
    <button data-dismiss="modal" class="close" type="button"></button>
    <h3>Widget Settings</h3>
  </div>
  <div class="modal-body"></div>
</div>
<div class="clearfix"></div>
<div class="content">


</div>
{% endblock %}

{% block js_include %}
<script src="/static/assets/plugins/jquery-datatable/js/jquery.dataTables.min.js" type="text/javascript" ></script>
<script type="text/javascript" src="/static/assets/plugins/datatables-responsive/js/datatables.responsive.js"></script>
<script src="/static/assets/js/util.js" type="text/javascript"></script>
<script src="/static/assets/plugins/jquery-easy-pie-chart/js/jquery.easypiechart.min.js"></script>
<script src="/static/assets/plugins/boostrap-form-wizard/js/jquery.bootstrap.wizard.min.js" type="text/javascript"></script>
<script src="/static/assets/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
<script src="/static/assets/plugins/bootstrap-tag/bootstrap-tagsinput.min.js" type="text/javascript"></script>
<script src="/static/assets/plugins/highlight/highlight.pack.js" type="text/javascript"></script>
<script src="/static/assets/js/viewInstances.js" type="text/javascript"></script>

<script type="text/template" id="item-instance">
<div class="row">
    <div class="col-md-12">

      <div class="grid simple vertical <% if (status == 10) {; %> <%= 'blue' %> <% } else if (status == 0) {; %> <%= 'green' %> <% } else {; %> <%= 'red' %> <%; }%>">
        <div class="grid-title no-border">
          <h4 >
            <span class="semi-bold"><%= task.cname %> - <%= celery_worker_id %></span>
          </h4>
          <div class="tools">
            <a href="javascript:;" class="collapse"></a>
            <a href="javascript:;" class="remove"></a>

          </div>
        </div>
        <div class="grid-body no-border">
          <div class="row">
            <div class="col-md-8">
              <div class="row">
                <div class="col-md-2 col-sm-2">

                  <h4 class="text-black semi-bold">状态</h4>
                  <% if (status == 10) {; %> <%= "<span class='label label-success'>进行中</span>" %> <% } else if (status == 0) {; %> <%= "<span class='label label-info'>成功</span>" %> <% } else {; %> <%= "<span class='label label-important'>失败</span>" %> <%; }%>
                </div>
                <div class="col-md-5 col-sm-5">

                  <h4 class="text-black semi-bold">启动时间</h4>
                  <h4 class="text-success semi-bold"><%= start_time.replace('T', ' ') %></h4>
                </div>
                <div class="col-md-5 col-sm-5">

                  <h4 class="text-black semi-bold">结束时间</h4>
                  <h4 class="text-success semi-bold"><%= end_time %></h4>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="example" data-date="<%= start_time %>"></div>
            </div>
          </div>

        </div>
        <div class="grid-body no-border grid-foot">
           <div class="panel-group" id="accordion" data-toggle="collapse">
                <div class="panel panel-default">
                  <div class="panel-heading collapsed">
                    <h4 class="panel-title">
                      <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="tabs_accordian.html#collapse<%= id %>">stdout</a>
                    </h4>
                  </div>
                  <div id="collapse<%= id %>" class="panel-collapse collapse" style="height: 0px;">
                    <div class="panel-body">
                      <div class="row m-t-10" style="display:<% if (status == 10) {; %> <%= 'none' %> <% } else if (status == 0) {; %> <%= '' %> <% } else {; %> <%= '' %> <%; }%>">
                          <h4 class="text-black semi-bold">stdout</h4>
                          <pre><code><%= stdout %></code></pre>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="panel panel-default">
                  <div class="panel-heading collapsed">
                    <h4 class="panel-title">
                      <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="tabs_accordian.html#collapseTwo<%= id %>">stderror</a>
                    </h4>
                  </div>
                  <div id="collapseTwo<%= id %>" class="panel-collapse collapse" style="height: 0px;">
                    <div class="panel-body">
                      <div class="row m-t-10" style="display:<% if (status == 10) {; %> <%= 'none' %> <% } else if (status == 0) {; %> <%= '' %> <% } else {; %> <%= '' %> <%; }%>">
                          <h4 class="text-black semi-bold">stderr</h4>
                          <pre><code><%= stderr %></code></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
      </div>

      

    </div>
  </div>
</script>
<script></script>
{% endblock %}